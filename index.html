<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Julie & Paras | The Italian Adventure</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400&display=swap"
      rel="stylesheet"
    />
        <link
      href="main.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="#" class="logo">P & J</a>

        <ul class="nav-menu">
          <li><a href="itinerary.html">Itinerary</a></li>

          <li class="dropdown">
            <a href="#activities" class="dropbtn">Activities</a>
            <div class="dropdown-content">
              <a href="forestis.html">Mountains</a>
              <a href="milan.html">Milan</a>
              <a href="#dining">Escapades</a>
            </div>
          </li>

          <li><a href="#docs">Important Docs</a></li>
          <li><a href="#countdown">The Countdown</a></li>
        </ul>
      </div>
    </nav>
    <audio id="bg-music" loop>
      <source src="./music/dolomite_landing_song.mp3" type="audio/mpeg" />
    </audio>

    <div class="hero">
      <div id="airplane" class="airplane-container">
        <div id="airplane" class="airplane-container">
          <img src="./images/plane.png" alt="Airplane flying towards Italy" />
        </div>
      </div>

      <div class="bg-image"></div>

      <div class="overlay"></div>

      <div class="fog-container">
        <div class="fog-img" style="animation-duration: 60s"></div>
        <div class="fog-img fog-img-2"></div>
      </div>

      <div class="content" id="main-content">
        <h1>The Snowy Mountain Ascent</h1>
        <p>Paras Modi x Julie Patel</p>
        <button class="enter-btn" onclick="enterSite()">
          Begin the Journey
        </button>
      </div>

      <div class="music-control" id="music-toggle" onclick="toggleMusic()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M9 18V5l12-2v13"></path>
          <circle cx="6" cy="18" r="3"></circle>
          <circle cx="18" cy="16" r="3"></circle>
        </svg>
      </div>
    </div>

    <script>
      // Fade text in on load
      window.onload = function () {
        const content = document.getElementById("main-content");
        content.style.opacity = "1";
        content.style.transform = "translateY(0)";
      };

      const audio = document.getElementById("bg-music");
      const btn = document.querySelector(".enter-btn");
      const musicIcon = document.getElementById("music-toggle");

      // Function to handle the "Enter" interaction
      function enterSite() {
        // 1. Play Audio (Browser allows this because user clicked)
        audio.play().catch((error) => {
          console.log("Audio play failed (interaction policy):", error);
        });

            btn.innerHTML = "Taking Off...";
            btn.style.pointerEvents = "none";
            btn.style.opacity = "0.7";

        // 3. Show music toggle
        musicIcon.style.display = "block";

        const plane = document.getElementById("airplane");

        // 4. Optional: Scroll down or reveal next section
        // For now, we just let the music start and the button fade out
        setTimeout(() => {
          plane.classList.add("airplane-fly");
          // If you add a second section below, use:
          // document.getElementById('next-section').scrollIntoView({behavior: 'smooth'});
        }, 1000);

        setTimeout(() => {
                // Fade out body to make the transition smoother
                document.body.style.transition = "opacity 1s ease";
                document.body.style.opacity = "0";
                
                // Wait 1 more second for fade out, then switch pages
                setTimeout(() => {
                    window.location.href = 'itinerary.html';
                }, 1000);
            }, 5000);
      }

      // Toggle Mute/Play
      function toggleMusic() {
        if (audio.paused) {
          audio.play();
          musicIcon.style.opacity = "1";
        } else {
          audio.pause();
          musicIcon.style.opacity = "0.5";
        }
      }
    </script>
  </body>
</html>
